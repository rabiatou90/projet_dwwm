<!DOCTYPE html>
<html lang="fr">

	<head>
		{# L'encodage des caractères #}
		<meta
		charset="UTF-8">

		{# Le Minimum de responsive design #}
		<meta
		name="viewport" content="width=device-width, initial-scale=1.0">

		{# Le titre de chaque page dans l'onglet #}
		<title>
			{% block title %}{% endblock %}Connexion - Le site de transfert d'argent DBS</title>

		{# La description de chaque page #}
		<meta
		name="description" content="{% block description %}{% endblock %}">

		{# Les balises utiles pour le SEO #}
		<meta name="robots" content="index, follow">
		<meta name="theme-color" content="#ffffff">
		<meta name="author" content="dwwm">
		<meta
		name="publisher" content="dwwm">

		{# La favicon #}
		<link rel="apple-touch-icon" sizes="180x180" href="{{ asset('apple-touch-icon.png') }}">
		<link rel="icon" type="image/png" sizes="32x32" href="{{ asset('favicon-32x32.png') }}">
		<link rel="icon" type="image/png" sizes="16x16" href="{{ asset('favicon-16x16.png') }}">
		<link rel="manifest" href="{{ asset('site.webmanifest') }}">
		<link rel="mask-icon" href="{{ asset('safari-pinned-tab.svg') }}" color="#5bbad5">
		<meta
		name="msapplication-TileColor" content="#da532c">

		{# Google font #}
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link
		href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:ital@1&display=swap" rel="stylesheet">

		{# La feuille de style de Bootstrap 5 #}
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

		{# Ma feuille de style #}
		<link rel="stylesheet" href="{{ asset('css/app.css') }}">
	</head>

	<body class="h-100">

		<main class="container my-5">
			<div class="row">
				<div class="col-lg-7 text-center">
					<img src="{{ asset('images/visitor/inscription/inscription.png') }}" class="img-fluid">
				</div>
				<div class="col-lg-5">
					<div class="row justify-content-center">
						<div class="col-lg-10">
							{% if app.flashes('random_password') is not empty %}
								<div class="alert alert-info">
									Mot de passe généré aléatoirement:
									{{ app.flashes('random_password')[0] }}
								</div>
							{% endif %}
							{# Affichage des erreurs Flash #}
							{% for flashError in app.flashes('error') %}
								<div class="alert alert-danger">{{ flashError }}</div>
							{% endfor %}

							{{ form_start(form) }}
							<div class="mb-3">
								<label for="registration_form_prenom" class="form-label">Prénom</label>
								{{ form_widget(form.prenom, {'attr': {'class':'form-control', 'autofocus':'autofocus'}}) }}
								<div class="text-danger">{{ form_errors(form.prenom) }}</div>
							</div>
							<div class="mb-3">
								<label for="registration_form_nom" class="form-label">Nom</label>
								{{ form_widget(form.nom, {'attr': {'class':'form-control'}}) }}
								<div class="text-danger">{{ form_errors(form.nom) }}</div>
							</div>
							<div class="mb-3">
								<label for="registration_form_email" class="form-label">Email</label>
								{{ form_widget(form.email, {'attr': {'class':'form-control'}}) }}
								<div class="text-danger">{{ form_errors(form.email) }}</div>
							</div>

							<div class="mb-3">
								<label for="registration_form_roles" class="form-label">Rôles</label>
								<button class="toggle-roles btn btn-primary mt-3">Afficher les rôles</button>
								<div class="role-dropdown" style="display: none;">
									<div class="form-group">
										{% for role in form.roles %}
											<div class="form-check">
												{{ form_widget(role) }}
												{{ form_label(role) }}
											</div>
										{% endfor %}
									</div>
								</div>
							</div>
							<div class="mb-3">
								<label for="registration_form_contact" class="form-label">Contact</label>
								<div class="contact-container">
									{{ form_widget(form.contact, {'attr': {'class':'form-control'}}) }}
									<div class="text-danger">{{ form_errors(form.contact) }}</div>
								</div>
							</div>

							<div class="mb-3">
								<label for="registration_form_pays" class="form-label">Pays</label>
								{{ form_widget(form.pays, {'attr': {'class':'form-control'}}) }}
								<div class="text-danger">{{ form_errors(form.pays) }}</div>
							</div>

							<div>
							    <input formnovalidate type="submit" class="btn btn-primary shadow" value="S'inscrire">
								
							</div>
							{{ form_end(form) }}


							<div class="text-center mt-5">
								<p>
									<a href="{{path('visitor_welcome_index')}}">Retour à l'accueil</a>
								</p>
							</div>
						</div>
					</div>
				</div>
			</main>

			{# Le script de Bootstrap 5 #}
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

			{# Votre code JavaScript sans utiliser {{ parent() }} #}
			<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
			<script>
				$(document).ready(function () {
$('.toggle-roles').click(function () {
$('.role-dropdown').slideToggle();
});
});
			</script>
		</body>
	</body>
</html>
